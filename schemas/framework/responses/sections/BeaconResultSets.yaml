$schema: https://json-schema.org/draft/2020-12/schema
$id: https://progenetix.org/services/schemas/beaconResultSets/v2021-10-26
title: beaconResultSets
description: >-
  Sets of results to be returned as query response.
type: object
properties:
  $schema:
    type: string
    description: >-
      Reference to the schema used to describe the attributes below.
    $ref: "../../common/beaconCommonComponents.yaml#/definitions/$schema"
  resultSets:
    type: array
    items:
      $ref: "#/definitions/resultSetInstance/properties"
    minItems: 0

definitions:
  resultSetInstance:
    type: object
    required:
      - id
      - type
      - exists
    properties:
      id:
        description: id of the resultSet.
        type: string
        example: datasetA
      setType:
        description: >-
          Entry type of resultSet. It SHOULD MATCH an entry type declared as collection in the Beacon configuration.
        type: string
        default: dataset
      exists:
        type: boolean
        enum:
          - "true"
      results:
        type: array
        items:
          type: object
      resultsCount:
        description: Number of results in this Resulset.
        type: integer
      resultsHandovers:
        description": >-
          List of handovers that apply to this resultset, not to the whole Beacon or to a result in particular.
        $ref: ../../common/beaconCommonComponents.yaml#/definitions/ListOfHandovers
      info:
        description: >-
          Additional details that could be of interest about the Resultset. Provided to clearly enclose any attribute that is not part of the Beacon specification.
        type: object
required:
  - resultSets
additionalProperties: true

