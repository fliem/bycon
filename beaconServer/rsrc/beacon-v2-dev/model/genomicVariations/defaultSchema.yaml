$schema: https://json-schema.org/draft/2020-12/schema
title: Genomic Variation
$comment: 'version: ga4gh-beacon-variant-v2.0.0-draft.4'
description: Schema for a genomic variant entry.
type: object
required:
  - variantInternalId
  - variantType
  - alternateBases
  - position
properties:
  variantInternalId:
    description: Reference to the variant ID (internal ID). This is no a public Id,
      but the 'primary key/identifier' of that variant inside a given Beacon instance.
      Therefore, different Beacon instances could have a variantInternalId = 1 and
      they could refer to completely unrelated variants. The public, standard, popular
      identifiers or the GA4GH Variant Representation Id (VRSid) MUST be returned
      in the  'identifiers' section. A Beacon instance can, of course, use the VRSid
      as their own internal id, in such case, the VRSid would be repeated in both
      places.
    type: string
  variantType:
    description: "The `variantType` declares the nature of the variation in relation\
      \ to a reference. It could be a single change, a short insertion or deletion,\
      \ a bigger structural change, etc. In a response, it is used to describe the\
      \ variation. In a request, it is used to declare the type of event the Beacon\
      \ client is looking for. It could be used standalone (without `alternateBases`\
      \ parameter) in cases in which query variants could not be defined through a\
      \ sequence of one or more bases. Examples here are e.g. structural variants:\
      \ \n* DUP - increased allelic count of material from the genomic region  between\
      \ `start` and `end` positions  - no assumption about the placement of the additional\
      \ sequences is  being made (i.e. no _in situ_ requirement as tandem duplications)\n\
      \ * DEL: deletion of sequence following `start` \n* BND: breakend, i.e. termination\
      \ of the allele at position `start` or in the `start[0]]` => `start[1]` interval,\
      \ or fusion of the sequence to distant partner.\n Either `alternateBases` or\
      \ `variantType` is required, with the exception of range queries (single `start`\
      \ and `end` parameters)."
    type: string
    examples:
      - SNP
      - DEL
      - DUP
      - BND
    default: SNP
  referenceBases:
    description: "Reference bases for this variant (starting from `start`). * Accepted\
      \ values: IUPAC codes for nucleotides (e.g. 'https://www.bioinformatics.org/sms/iupac.html').\
      \ N is a wildcard, that denotes the position of any base, and can be used as\
      \ a standalone base of any type or within a partially known sequence. As example,\
      \ a query of `ANNT` the Ns can take take any form of [ACGT] and will match `ANNT`,\
      \ `ACNT`, `ACCT`, `ACGT` ... and so forth. * an *empty value* is used in the\
      \ case of insertions with the maximally trimmed, inserted sequence being indicated\
      \ in `AlternateBases`. NOTE: Many Beacon instances could not support UIPAC codes\
      \ and it is not mandatory for them to do so. In such cases the [ACGTN] is mand"
    type: string
    pattern: ^([ACGTUNRYSWKMBDHV\-\.]*)$
  alternateBases:
    description: "Alternate bases for this variant (starting from `start`).* Accepted\
      \ values: IUPAC codes for nucleotides (e.g. 'https://www.bioinformatics.org/sms/iupac.html').\
      \ N is a wildcard, that denotes the position of any base, and can beused as\
      \ a standalone base of any type or within a partially knownsequence. As example,\
      \ a query of `ANNT` the Ns can take take any form of[ACGT] and will match `ANNT`,\
      \ `ACNT`, `ACCT`, `ACGT` ... and so forth.* an *empty value* is used in the\
      \ case of deletions with the maximally trimmed, deleted sequence being indicated\
      \ in `ReferenceBases`* Categorical variant queries, e.g. such *not* being represented\
      \ through sequence & position, make use of the `variantType` parameter.* either\
      \ `alternateBases` or `variantType` is required."
    type: string
    pattern: ^([ACGTUNRYSWKMBDHV\-\.]*)$
  position:
    $ref: '#/definitions/Position'
  identifiers:
    $ref: '#/definitions/Identifiers'
  molecularAttributes:
    $ref: '#/definitions/MolecularAttributes'
  caseLevelData:
    type: array
    description: ''
    items:
      $ref: '#/definitions/CaseLevelVariant'
  variantLevelData:
    $ref: '#/definitions/VariantLevelData'
  frequencyInPopulations:
    type: array
    items:
      $ref: '#/definitions/FreqInPops'
definitions:
  Position:
    type: object
    description: This section groups all attributes that allows to 'identify' a variant
      via its position in the genome.
    properties:
      assemblyId:
        description: Genomic assembly accession and version as RefSqeq assembly accession
          (e.g. "GCF_000001405.39") or a versioned assembly name or synonym such as
          UCSC Genome Browser assembly (e.g. "hg38") or Genome Reference Consortium
          Human (e.g. "GRCh38.p13") names.
        type: string
        example:
          - GCF_000001405.39
          - hg38
          - GRCh38.p13
      refseqId:
        description: Reference sequence id for genomic reference sequence in which
          variant coordinates are given, e.g. "NC_000009" for human chromosome 9.
          Preferably the RefSeqId, alternatively, names, synonymous or aliases e.g.
          "Chr9" could be used.
        type: string
        example:
          - NC_000009
          - Chr9
          - NC_012920.1
      start:
        description: Precise or fuzzy start coordinate position(s) of the genomic
          variation (0-based, inclusive).
        type: array
        items:
          type: integer
          format: int64
          minimum: 0
        minItems: 1
        maxItems: 2
        examples:
          - '[1000], [1000,1100]'
      end:
        description: Precise or bracketing the end of the variant, for variants not
          specified by their sequence content (e.g. structural variants, particularly
          CNVs).
        type: array
        items:
          type: integer
          format: int64
          minimum: 1
        minItems: 0
        maxItems: 2
        examples:
          - '[], [1200], [1200,1350]'
    required:
      - assemblyId
      - refseqId
      - start
  Identifiers:
    variantAlternativeIds:
      description: List of cross-referencing ID(s), for the variant in other databases
        (e.g. dbSNP, clinVarId, ClinGen, COSMIC), , preferably CURIE(s) where available,
        e.g. "VCV000055583.1", "ClinGen:CA003410".
      type: array
      items:
        type: string
      example:
        - dbSNP:rs3975092470
        - ClinGen:CA003410
        - VCV000055583.1
    genomicHGVSId:
      description: HGVSId descriptor.
      type: string
      example: NC_000017.11:g.43057063G>A
    transcriptHGVSIds:
      description: List of HGVSId descriptor(s) at transcript level.
      type: array
      items:
        type: string
      example:
        - NC 000023.10(NM004006.2):c.357+1G
    proteinHGVSIds:
      description: List of HGVSId descriptor(s) at protein level (for protein-altering
        variants).
      type: array
      items:
        type: string
      example:
        - NP_009225.1:p.Glu1817Ter
        - LRG 199p1:p.Val25Gly (preferred)
    clinVarIds:
      type: string
      examples:
        - RCV000009910.19
        - '9325'
        - VCV000009325.28
  MolecularAttributes:
    geneIds:
      type: array
      items: string
    genomicFeatures:
      description: List of Genomic feature(s) affected by the variant.
      type: array
      items:
        $ref: '#/definitions/GenomicFeature'
    molecularEffects:
      description: Ontology term that includes describes the class of molecular consequence
        generated by the variant. Values from Ensembl Glossary Variant Consequence
        (ENSGLOSSARY:0000134 ontology branch) are recommended, e.g. Stop gained, Missense
        variant, Coding sequence variant.
      type: array
      items:
        $ref: https://raw.githubusercontent.com/ga4gh-beacon/beacon-framework-v2/main/common/ontologyTerm.json
      examples:
        - id: ENSGLOSSARY:0000143
          label: Stop gained
        - id: ENSGLOSSARY:0000150
          label: Missense variant
    aminoacidChanges:
      description: Lisf of change(s) at aminoacid level for protein affecting variants.
      type: array
      items:
        type: string
      example:
        - V304*
  GenomicFeature:
    description: 'Genomic feature(s) related to the variant. NOTE: Although genes
      could also be referenced using these attributes, they have an independent section
      to allow direct queries.'
    type: object
    properties:
      featureClass:
        description: 'Ontology term that describes the class of genomic feature affected
          by the variant. Values from Ensembl Glossary (ENSGLOSSARY ontology) are
          recommended, e.g. protein coding gene, non-coding RNA, long non-coding RNA. '
        $ref: https://raw.githubusercontent.com/ga4gh-beacon/beacon-framework-v2/main/common/ontologyTerm.json
        examples:
          - id: ENSGLOSSARY:0000158
            label: 5 prime UTR variant
      featureID:
        description: Where applicable, ID/accession/name of genomic feature related
          to the `featureClass`. Preferably in CURIE format. If the value is a gene
          id or name, it points to the gene related to the 'featureClass', e.g. 'the
          5 prime UTR upstream of TP53'
        $ref: https://raw.githubusercontent.com/ga4gh-beacon/beacon-framework-v2/main/common/ontologyTerm.json
        examples:
          - id: HGNC:11998
            label: TP53
    required:
      - featureClass
  PhenoClinicEffect:
    description: List of annotated effects on disease or phenotypes.
    type: object
    properties:
      conditionId:
        description: Internal identifier of the phenotype or clinical effect.
        type: string
        examples:
          - disease1
          - phen2234
      category:
        description: 'Ontology term for the type of disease, condition, phenotypic
          measurement, etc. '
        $ref: https://raw.githubusercontent.com/ga4gh-beacon/beacon-framework-v2/main/common/ontologyTerm.json
        examples:
          - id: MONDO:0000001
            label: disease or disorder
          - id: HP:0000118
            label: phenotypic abnormality
      effect:
        description: 'Ontology term for the phenotypic or clinical effect. '
        $ref: https://raw.githubusercontent.com/ga4gh-beacon/beacon-framework-v2/main/common/ontologyTerm.json
        examples:
          - id: MONDO:0003582
            label: hereditary breast ovarian cancer syndrome
          - id: HP:0000256
            label: macrocephaly
      clinicalRelevance:
        description: A value from the five-tiered classification from the American
          College of Medical Genetics (ACMG) designed to describe the likelihood that
          a genomic sequence variant is causative of an inherited disease. (NCIT:C168798).
        type: string
        enum:
          - benign
          - likely benign
          - uncertain significance
          - likely pathogenic
          - pathogenic
        example: pathogenic
      evidenceType:
        description: 'Ontology term for the type of evidence supporting variant-disease
          association from the Evidence & Conclusion Ontology (ECO). '
        $ref: https://raw.githubusercontent.com/ga4gh-beacon/beacon-framework-v2/main/common/ontologyTerm.json
        examples:
          - id: ECO:0000361
            label: inferential evidence
          - id: ECO:0000006
            label: experimental evidence
      annotatedWith:
        $ref: '#/definitions/SoftwareTool'
    required:
      - conditionId
      - effect
  FreqInPops:
    type: object
    properties:
      source:
        type: string
        description: The study
        examples:
          - The Genome Aggregation Database (gnomAD)
          - The European Genome-phenome Archive (EGA)
      sourceReference:
        type: string
        description: A reference to further documentation or details.
        examples:
          - https://gnomad.broadinstitute.org/
          - https://ega-archive.org/
      version:
        type: string
        description: version of the source data.
        examples:
          - gnomAD v3.1.1
      frequencies:
        type: array
        items:
          $ref: '#/definitions/PopulationFreq'
        minItems: 1
    required:
      - source
      - sourceReference
      - frequencies
  PopulationFreq:
    type: object
    properties:
      population:
        type: string
        description: A name for the population. A population could an ethnic, geographical
          one or just the 'members`of a study.
        examples:
          - East Asian
          - ICGC Chronic Lymphocytic Leukemia-ES
          - Men
          - Children
      alleleFrequency:
        type: number
        description: Allele frequency between 0 and 1.
        examples:
          - 3.186e-05
    required:
      - population
      - alleleFrequency
  CaseLevelVariant:
    type: object
    description: ''
    properties:
      individualId:
        description: Reference to individual ID.
        type: string
      biosampleId:
        description: Reference to biosample ID.
        type: string
      analysisId:
        description: Reference to run (Run.runId)
        type: string
        example: SRR10903401
      zigosity:
        description: Ontology term for zigosity in which variant is present in the
          sample from the Zigosity Ontology (GENO:0000391) , e.g "heterozygous" (GENO:0000135)
        $ref: https://raw.githubusercontent.com/ga4gh-beacon/beacon-framework-v2/main/common/ontologyTerm.json
        examples:
          - id: GENO:0000135
            label: heterozygous
          - id: GENO:0000136
            label: homozygous
          - id: GENO:0000604
            label: hemizygous X-linked
      alleleOrigin:
        description: Ontology value for allele origin of variant in sample from the
          Variant Origin (SO:0001762). Categories are "somatic variant", "germline
          variant", "maternal variant", "paternal variant", "de novo variant", "pedigree
          specific variant", "population specific variant". Corresponds to Variant
          Inheritance in FHIR.
        $ref: https://raw.githubusercontent.com/ga4gh-beacon/beacon-framework-v2/main/common/ontologyTerm.json
        examples:
          - id: SO:0001777
            label: somatic variant
          - id: SO:0001778
            label: germline variant
          - id: SO:0001775
            label: maternal variant
          - id: SO:0001776
            label: paternal variant
          - id: SO:0001781
            label: de novo variant
          - id: SO:0001779
            label: pedigree specific variant
          - id: SO:0001780
            label: population specific variant
      clinicalInterpretations:
        type: array
        items:
          $ref: '#/definitions/PhenoClinicEffect'
      phenotypicEffects:
        type: array
        items:
          $ref: '#/definitions/PhenoClinicEffect'
    required:
      - biosampleId
  VariantLevelData:
    clinicalInterpretations:
      type: array
      items:
        $ref: '#/definitions/PhenoClinicEffect'
    phenotypicEffects:
      type: array
      items:
        $ref: '#/definitions/PhenoClinicEffect'
  SoftwareTool:
    type: object
    properties:
      toolName:
        description: Name of the tool.
        type: string
        example: Ensembl Variant Effect Predictor (VEP)
      version:
        description: Version used.
        type: string
        example: rel 104
      toolReferences:
        description: References to the tool
        type: object
        properties: {}
        additionalProperties: true
        examples:
          - bio.toolsId: https://bio.tools/vep
          - url: http://www.ensembl.org/vep
        minProperties: 1
    required:
      - toolName
      - version
      - toolReferences
additionalProperties: true
